(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["vue-lupus-paragraph-video"]=t():e["vue-lupus-paragraph-video"]=t()})("undefined"!==typeof self?self:this,function(){return function(e){var t={};function i(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(o,n,function(t){return e[t]}.bind(null,n));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s="fb15")}({c3e1:function(e,t,i){},d07d:function(e,t,i){"use strict";var o=i("c3e1"),n=i.n(o);n.a},f6fd:function(e,t){(function(e){var t="currentScript",i=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(o){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(o.stack)||[!1])[1];for(e in i)if(i[e].src==t||"interactive"==i[e].readyState)return i[e];return null}}})})(document)},fb15:function(e,t,i){"use strict";var o;(i.r(t),"undefined"!==typeof window)&&(i("f6fd"),(o=window.document.currentScript)&&(o=o.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(i.p=o[1]));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"paragraph paragraph--video"},[e.$slots.title?i("div",{staticClass:"title"},[e._t("title")],2):e._e(),e.showThumbnail?e._e():i("div",{ref:"video",staticClass:"video",style:{"padding-bottom":e.videoHeight/e.videoWidth*100+"%"}},[e.autoplay?e._e():i("div",{staticClass:"player"},[e._t("video")],2),e.autoplay?i("div",{staticClass:"player",attrs:{id:"player"}}):e._e()]),e.showThumbnail?i("div",{staticClass:"thumbnail",on:{click:e.loadVideo}},[e._t("thumbnail"),i("div",{staticClass:"play-button"})],2):e._e()])},r=[],a={name:"PgVideo",data(){return{showThumbnail:!1,autoplay:!1,youtubeVideoId:!1,videoLoaded:!1,player:!1,videoHeight:"360",videoWidth:"640"}},computed:{slotThumbnail(){return!!this.$slots.thumbnail}},mounted(){this.slotThumbnail&&(this.showThumbnail=!0),this.setYoutubeVideoData()},methods:{loadVideo(){this.showThumbnail=!1,this.autoplay=!0,this.renderYoutubeVideo()},setYoutubeVideoData(){let e=!1,t=!1;if(this.$refs.video&&this.$refs.video.children[0].children[0]&&(e=this.$refs.video.children[0].children[0]),this.$refs.default&&this.$refs.default.children[0].children[0]&&(e=this.$refs.default.children[0].children[0]),t=!!e.src&&e.src,this.videoWidth=!!e.width&&e.width,this.videoHeight=!!e.height&&e.height,t){const e=t.match(/(embed\/)(.{11})/);this.youtubeVideoId=e[2]}},renderYoutubeVideo(){if(this.youtubeVideoId&&!this.videoLoaded){const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",t.onload=this.createYoutubePlayer;var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}},createYoutubePlayer(){let e=0,t=window.setInterval(()=>{e++,"undefined"!==typeof YT&&(this.player=new YT.Player("player",{height:this.videoHeight,width:this.videoWidth,videoId:this.youtubeVideoId,events:{onReady:function(e){e.target.playVideo()}}}),window.clearInterval(t)),e>5&&window.clearInterval(t)},100)}}},d=a;i("d07d");function s(e,t,i,o,n,r,a,d){var s,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=i,u._compiled=!0),o&&(u.functional=!0),r&&(u._scopeId="data-v-"+r),a?(s=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=s):n&&(s=d?function(){n.call(this,this.$root.$options.shadowRoot)}:n),s)if(u.functional){u._injectStyles=s;var l=u.render;u.render=function(e,t){return s.call(t),l(e,t)}}else{var c=u.beforeCreate;u.beforeCreate=c?[].concat(c,s):[s]}return{exports:e,options:u}}var u=s(d,n,r,!1,null,null,null),l=u.exports;t["default"]=l}})["default"]});
//# sourceMappingURL=vue-lupus-paragraph-video.umd.min.js.map